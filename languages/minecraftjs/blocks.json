{
    "name": "Blocks",
    "id": "63b8ffcc-9b51-4a5e-b687-634945bfb9b8",
    "blocks": [
        {
            "blocktype": "context",
            "sockets": [
                    {
                        "name": "get Block Type at "
                    },
                    {
                        "name": "Position",
                        "type": "position",
                        "block": "8bb6aab6-273d-4671-8caa-9c15b5c486a7"
                    }
                ],
            "script": "client.getBlock({{1}}.x, {{1}}.y, {{1}}.z, function(block##){[[1]]  client.end()});",
            "locals": [
                {
                    "blocktype": "expression",
                    "sockets": [
                            {
                                "name": "block##"
                            }
                        ],
                        
                    "script": "parseInt(block##)",
                    "type": "block"
                }
            ],
            "help": "get block type at x, y, z"
        },
        
        {
            "blocktype": "step",
            "id": "5ac8754e-6bbe-42a8-8504-707f1ca3848b",
            "sockets": [
                    {
                        "name": "set Block at"
                    },
                        {
                        "name": "Position",
                        "type": "position",
                        "block": "8bb6aab6-273d-4671-8caa-9c15b5c486a7"
                    },
                    {
                        "name": "to"
                    },
                    {
                        "type": "choice",
                        "options": "blocks",
                        "value": "choice"
                    }
                    
                ],
            "script": "client.setBlock({{1}}.x, {{1}}.y, {{1}}.z, client.blocks[{{2}}]);",
            "help": "set block at position"
        },
    
        {
            "blocktype": "step",
            "id": "3969a128-5e8d-4320-9f91-73bebf81820f",
            "labels": ["set Blocks between [object] and [object] to [choice:blocks:STONE]"],
            "sockets": [
                    {
                        "name": "set Blocks between"
                    },
                    {
                        "name": "Position1",
                        "type": "position",
                        "block": "8bb6aab6-273d-4671-8caa-9c15b5c486a7"
                    },
                    {
                        "name": "and"
                    },
                    {
                        "name": "Position2",
                        "type": "position",
                        "block": "8bb6aab6-273d-4671-8caa-9c15b5c486a7"
                    },
                    {
                        "name": "to"
                    },
                    
                    {
                        "type": "choice",
                        "options": "blocks",
                        "value": "choice"
                    }
                    
                ],
            
            "script": "client.setBlocks({{1}}.x, {{1}}.y, {{1}}.z, {{2}}.x, {{2}}.y, {{2}}.z, client.blocks[{{3}}]);",
            "help": "set blocks in a 3D rectangle between the first and second positions to .."
        },
        
        {
            "blocktype": "expression",
            "id": "7ab673d1-832b-4a0b-9dc9-0ac47892893b",
            "sockets": [
                {
                    "name": "block type name"
                },
                {
                    "type": "number",
                    "value": "0"
                }
            ],
            
            "script": "Object.keys(client.blocks).filter(function(element){return (client.blocks[element] === {{1}});})",
            "type": "number",
            "help": "name of a blocktype by number"
        },
        
        {
            "blocktype": "context",
            "id": "2ab7b0ea-b646-4672-a2fe-310542b924aa",
            "sockets": [
                    {
                        "name": "get height at "
                    },
                    {
                        "type": "number",
                        "value": "0"
                    },
                    {
                        "type": "number",
                        "value": "0"
                    }
                ],
            
            "script": "client.getHeight({{1}}, {{2}}, function(height##){[[1]]  client.end()});",
            "locals": [
                {
                    "blocktype": "expression",
                    "sockets": [
                            {
                                "name": "height##"
                            }
                        ],
                        "script": "parseInt(height##)",
                    "type": "number"
                }
            ],
            "help": "get height of blocks at x, y"
        }
    ]
}
